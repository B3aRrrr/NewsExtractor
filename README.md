# üì∞ NewsExtractor

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –∏–∑ URL-–∞–¥—Ä–µ—Å–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–≤–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å "—ç—Ç–∞–ª–æ–Ω–Ω—ã–º" —Ç–µ–∫—Å—Ç–æ–º, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–º —á–µ—Ä–µ–∑ `trafilatura`, –æ—Ü–µ–Ω–∏—Ç—å **–ø–æ–ª–Ω–æ—Ç—É –∏–∑–≤–ª–µ—á–µ–Ω–∏—è** –∏ **–∑–Ω–∞—á–∏–º–æ—Å—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤**, –∞ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–π:
- –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ Excel-—Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º URL –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è;
- –∏–∑–≤–ª–µ–∫–∞–µ—Ç "—ç—Ç–∞–ª–æ–Ω–Ω—ã–π" —Ç–µ–∫—Å—Ç —Å –ø–æ–º–æ—â—å—é [trafilatura](https://github.com/adbar/trafilatura);
- —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏;
- –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ç—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è;
- –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —á–∞—Å—Ç–µ–π (–Ω–∞ –æ—Å–Ω–æ–≤–µ `nltk`, `difflib` –∏ –¥—Ä.);
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–æ–≤—ã–π `.xlsx` —Ñ–∞–π–ª —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_output`.

---

## üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.9.2  
- [trafilatura](https://pypi.org/project/trafilatura/) ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å web-—Å—Ç—Ä–∞–Ω–∏—Ü  
- [langdetect](https://pypi.org/project/langdetect/) ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞  
- [difflib](https://docs.python.org/3/library/difflib.html) ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤  
- [nltk](https://www.nltk.org/) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ª–∏–Ω–≥–≤–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ (—Ç–æ–∫–µ–Ω—ã, —á–∞—Å—Ç–æ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑)  
- [pandas](https://pandas.pydata.org/) ‚Äî —Ä–∞–±–æ—Ç–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏  
- [openpyxl](https://openpyxl.readthedocs.io/) ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ Excel-—Ñ–∞–π–ª–æ–≤

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
NewsExtractor/
‚îÇ
‚îú‚îÄ‚îÄ main.py                 # üí° –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ [–¥–æ–±–∞–≤—å —Å—Å—ã–ª–∫—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏]
‚îú‚îÄ‚îÄ config.py               # üì• –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç—ã (–ø—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã User-Agent, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏)
‚îú‚îÄ‚îÄ utils/                  # üß∞ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ functions.py
‚îÇ   ‚îî‚îÄ‚îÄ scrapegraphai_functions.py
‚îÇ
‚îú‚îÄ‚îÄ data/              # üìÅ –ü—Ä–∏–º–µ—Ä—ã Excel-—Ñ–∞–π–ª–æ–≤ –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Test_check.xlsx
‚îÇ   ‚îî‚îÄ‚îÄ Test_check_output.xlsx
‚îÇ
‚îú‚îÄ‚îÄ README.md              # üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ requirements.txt       # üì¶ –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1.  –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/yourusername/article-extraction-evaluator.git
cd article-extraction-evaluator
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

3. –ó–∞–ø—É—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∫—É:

```bash
py main.py --excel_data_path path/to/input_file.xlsx
```
–ù–∞ –≤—ã—Ö–æ–¥–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª `input_file_output.xlsx` c –Ω–æ–≤—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:
* `gold_standard`	
* `recall`	
* `loss_significance`

---

## üìä –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª:
![screenshot](data\Test_check.png)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
![screenshot](data\Test_check_output.png)

--- 

## üìê –ú–µ—Ç—Ä–∏–∫–∏

1. **–ü–æ–ª–Ω–æ—Ç–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è (Recall)**
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: 
*–ü–æ–ª–Ω–æ—Ç–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ (—ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ) —Ç–µ–∫—Å—Ç–∞*
**–§–æ—Ä–º—É–ª–∞**: 

$$
\text{Recall} = \frac{–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π}{–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ —ç—Ç–∞–ª–æ–Ω–µ}
$$
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 

* –§—É–Ω–∫—Ü–∏—è: `evaluate_extraction()`

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `difflib.SequenceMatcher` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

* –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–¥–µ—Ç –ø–æ –≤—Å–µ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è, –∫–∞–∫–∏–µ –∏–∑ –Ω–∏—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ —Å –ø–æ—Ö–æ–∂–µ—Å—Ç—å—é –±–æ–ª–µ–µ 0.8

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**:
```python
{
  "recall": 0.78,                        # –î–æ–ª—è –ø–æ–∫—Ä—ã—Ç—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  "missing_sentences": [...],           # –°–ø–∏—Å–æ–∫ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  "matched_count": 18,                  # –ö–æ–ª-–≤–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  "total_reference": 23                 # –û–±—â–µ–µ —á–∏—Å–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –≤ —ç—Ç–∞–ª–æ–Ω–µ
}
```

2. **–ó–Ω–∞—á–∏–º–æ—Å—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ (Semantic Loss / Semantic Gain)**
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: 
*–ù–µ –≤—Å–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–∞–∂–Ω—ã. –î–∞–Ω–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∫–∞–∂–¥–æ–µ –∏–∑ –Ω–∏—Ö –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –º–µ–∂–¥—É –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –∏ –ø–æ–ª–Ω—ã–º —ç—Ç–∞–ª–æ–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º.*
**–§–æ—Ä–º—É–ª–∞**: 

$$
\text{semantic_gain}_{i} = cos(\text{ref},\text{ext}+ \text{sentence}) - cos(\text{ref},\text{ext})
$$
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**: 

* –§—É–Ω–∫—Ü–∏—è: `evaluate_significance()`

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `paraphrase-multilingual-MiniLM-L12-v2` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `sentence-transformers`

* –°—Ç—Ä–æ—è—Ç—Å—è —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

* –ó–∞—Ç–µ–º –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –∏ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏—Ä–æ—Å—Ç –∫–æ—Å–∏–Ω—É—Å–Ω–æ–≥–æ —Å—Ö–æ–¥—Å—Ç–≤–∞ - —ç—Ç–æ –∏ –µ—Å—Ç—å `semantic_gain` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**:
```python
{
  "semantic_similarity": 0.83,              # –ò—Å—Ö–æ–¥–Ω–æ–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
  "missing_fragments": [
    {"sentence": "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –∑–∞—è–≤–∏–ª, —á—Ç–æ...", "semantic_gain": 0.0321},
    {"sentence": "–≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ ...", "semantic_gain": 0.0183},
    ...
  ]
}

```

--- 

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

* Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö [ScrapeGraphAI](https://github.com/ScrapeGraphAI/Scrapegraph-ai) (–º–µ—Ç–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ [—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω](utils\scrapegraphai_functions.py), –Ω–æ –Ω–µ –±—ã–ª –∏—Å–ø—ã—Ç–∞–Ω –∑–∞ –Ω–µ–∏–º–µ–Ω–µ–∏–µ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)

---

## ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –≤–∫–ª–∞–¥
Pull Request'—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!
–ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ issue.

–ê–≤—Ç–æ—Ä: [B3aRrrr](https://github.com/B3aRrrr)
